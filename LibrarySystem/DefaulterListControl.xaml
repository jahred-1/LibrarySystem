<UserControl x:Class="LibrarySystem.DefaulterListControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Background="White">
        <StackPanel Margin="50">
            <TextBlock Text="👥 Defaulter List" 
                       FontSize="36" 
                       FontWeight="Bold" 
                       Foreground="#D32F2F" 
                       Margin="0,0,0,30"/>

            <TextBlock Text="Students with overdue books and pending fines" 
                       FontSize="16" 
                       Foreground="#666"
                       Margin="0,0,0,30"/>

            <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                <TextBox x:Name="SearchTextBox"
                         Width="350" Height="40" 
                         FontSize="16"
                         VerticalContentAlignment="Center"
                         Padding="10"
                         Text="Search by Student ID or Name..." 
                         Foreground="#999"
                         GotFocus="SearchTextBox_GotFocus"
                         LostFocus="SearchTextBox_LostFocus"/>
                <Button Content="Search" 
                        Width="120" Height="40" 
                        Background="#D32F2F" 
                        Foreground="White" 
                        BorderThickness="0" 
                        FontSize="16"
                        Margin="10,0,0,0"
                        Cursor="Hand"
                        Click="SearchButton_Click"/>
                <Button Content="Send Reminders" 
                        Width="180" Height="40" 
                        Background="#F57C00" 
                        Foreground="White" 
                        BorderThickness="0" 
                        FontSize="16"
                        Margin="10,0,0,0"
                        Cursor="Hand"/>
            </StackPanel>

            <!-- Summary Card -->
            <Border Background="#FFCDD2" Padding="20" Margin="0,0,0,30" CornerRadius="8">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <TextBlock Text="⚠️" FontSize="32" Margin="0,0,15,0"/>
                    <StackPanel>
                        <TextBlock Text="Total Defaulters" FontSize="14" Foreground="#666"/>
                        <TextBlock x:Name="TotalDefaultersText" Text="0 Students" FontSize="28" FontWeight="Bold" Foreground="#D32F2F"/>
                    </StackPanel>
                    <TextBlock Text="📊" FontSize="32" Margin="30,0,15,0"/>
                    <StackPanel>
                        <TextBlock Text="Total Pending Fines" FontSize="14" Foreground="#666"/>
                        <TextBlock x:Name="TotalFinesText" Text="₱0.00" FontSize="28" FontWeight="Bold" Foreground="#D32F2F"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <TextBlock Text="Defaulter List" 
                       FontSize="20" 
                       FontWeight="SemiBold"
                       Foreground="#333"
                       Margin="0,20,0,10"/>

            <Border BorderBrush="#DDD" BorderThickness="1" CornerRadius="5">
                <DataGrid x:Name="DefaultersDataGrid" Height="350" 
                          AutoGenerateColumns="False" 
                          CanUserAddRows="False" 
                          IsReadOnly="True"
                          GridLinesVisibility="None" 
                          Background="White"
                          AlternatingRowBackground="#F9F9F9"
                          HeadersVisibility="Column"
                          SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Student ID" Width="120" Binding="{Binding StudentId}"/>
                        <DataGridTextColumn Header="Student Name" Width="250" Binding="{Binding StudentName}"/>
                        <DataGridTextColumn Header="Book ID" Width="100" Binding="{Binding BookId}"/>
                        <DataGridTextColumn Header="Book Title" Width="250" Binding="{Binding BookTitle}"/>
                        <DataGridTextColumn Header="Days Overdue" Width="130" Binding="{Binding DaysOverdue}"/>
                        <DataGridTextColumn Header="Fine Amount" Width="130" Binding="{Binding FineAmount, StringFormat=₱{0:F2}}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>
        </StackPanel>
    </Grid>
</UserControl>